---
description: Scalar API 文件品牌一致化。僅做最小限度更新：顏色與文字（字型）設定，對應公司 design tokens。
globs: "**/*scalar*,**/api-reference*,**/api-docs*,**/openapi*"
alwaysApply: false
---

# Scalar API 文件品牌自訂（最小限度）

**適用**：使用 [Scalar](https://scalar.com/) 製作 API documentation 時，讓畫面與公司品牌一致。  
**原則**：只改**顏色**與**文字（字型）**，不更動 layout、不寫大量自訂 CSS。

---

## 一、Scalar 自訂方式概覽

- **內建主題**：可先選 `theme: 'default' | 'alternate' | 'moon' | 'purple' | ...`，不合再覆寫變數。
- **覆寫 CSS 變數**：在載入 Scalar 的頁面加上 `<style>`，覆寫 `--scalar-*` 變數即可。
- **字型**：使用自訂字型時，設定 `withDefaultFonts: false`，並覆寫 `--scalar-font`、`--scalar-font-code`。

---

## 二、只改顏色時要覆寫的變數

在 **light / dark** 分別設定（Scalar 用 `.light-mode`、`.dark-mode`）：

| 用途 | Scalar 變數 | 說明 |
|------|-------------|------|
| 主要文字 | `--scalar-color-1` | 標題、內文主色 |
| 次要文字 | `--scalar-color-2` | 副標、說明 |
| 輔助文字 | `--scalar-color-3` | 較淡文字 |
| 強調/連結/按鈕 | `--scalar-color-accent` | 品牌主色（建議用公司主色） |
| 主背景 | `--scalar-background-1` | 頁面底 |
| 區塊背景 | `--scalar-background-2`、`--scalar-background-3` | 卡片、輸入框等 |
| 強調背景 | `--scalar-background-accent` | 選取、hover 等 |
| 邊框 | `--scalar-border-color` | 分隔線、框線 |

---

## 三、只改文字（字型）時

- **變數**：`--scalar-font`（一般文字）、`--scalar-font-code`（程式碼）。
- **使用公司字型**（例如 Noto Sans TC）時：
  1. 在頁面引入字型（Google Fonts 或 local）。
  2. 設定 Scalar 設定：`withDefaultFonts: false`。
  3. 在 `<style>` 中覆寫：
     ```css
     :root {
       --scalar-font: 'Noto Sans TC', sans-serif;
       --scalar-font-code: 'JetBrains Mono', 'Noto Sans Mono', monospace;
     }
     ```

---

## 四、對應公司 Design Tokens（可選）

公司 token 來源：**`.cursor/company-design-system/all-variables.css`**。

可將 Scalar 變數對應到公司色票與背景，例如（僅供參考，依實際 token 調整）：

- **Light**：`--scalar-background-1` → `var(--colors-sand-1)`、`--scalar-color-1` → `var(--colors-sand-12)` 或 `var(--colors-gray-alpha-12)`、`--scalar-color-accent` → `var(--colors-blue-9)`。
- **Dark**：使用公司 dark 色系（如 `--colors-sand-1` 在 dark 區塊的對應）。
- **字型**：與 Admin/Platform 一致時用 `--scalar-font: 'Noto Sans TC', sans-serif;`（若專案已引入）。

預先寫好的覆寫範例見：**`.cursor/company-design-system/scalar-branding-override.css`**（可複製到 API 文件專案並依需要微調）。

---

## 五、設定範例（CDN 用法）

```html
<head>
  <!-- 若用公司字型：先載入字型 -->
  <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@400;500;600;700&display=swap" rel="stylesheet" />
  <!-- 公司 token（可選） -->
  <link rel="stylesheet" href="/path/to/company-design-system/all-variables.css" />
  <!-- Scalar 品牌覆寫（僅顏色+字型） -->
  <link rel="stylesheet" href="/path/to/scalar-branding-override.css" />
</head>
<body>
  <script>
    window.ScalarConfig = {
      theme: 'default',
      withDefaultFonts: false   // 使用自訂字型時設為 false
    };
  </script>
  <script src="https://cdn.jsdelivr.net/npm/@scalar/api-reference"></script>
</body>
```

---

## 六、注意事項

- Scalar 已將舊的 `--theme-*` 改為 `--scalar-*`，自訂時請用 `--scalar-*`。
- 僅改顏色與字型時，勿覆寫與 layout、sidebar 結構相關的變數，以減少維護成本。
- 更多變數可參考：[Scalar 官方 Themes / Styling](https://scalar.com/products/api-references/themes)。
